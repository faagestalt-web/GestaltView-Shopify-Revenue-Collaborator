{
  "version": 3,
  "sources": ["../../../../src/cli/commands/auth/login.test.ts"],
  "sourcesContent": ["import Login from './login.js'\nimport {describe, expect, vi, test} from 'vitest'\nimport {promptSessionSelect} from '@shopify/cli-kit/node/session-prompt'\nimport {mockAndCaptureOutput} from '@shopify/cli-kit/node/testing/output'\n\nvi.mock('@shopify/cli-kit/node/session-prompt')\n\ndescribe('Login command', () => {\n  test('runs login without alias flag', async () => {\n    // Given\n    const outputMock = mockAndCaptureOutput()\n    vi.mocked(promptSessionSelect).mockResolvedValue('test-account')\n\n    // When\n    await Login.run([])\n\n    // Then\n    expect(promptSessionSelect).toHaveBeenCalledWith(undefined)\n    expect(outputMock.output()).toMatch('Current account: test-account.')\n  })\n\n  test('runs login with alias flag', async () => {\n    // Given\n    const outputMock = mockAndCaptureOutput()\n    vi.mocked(promptSessionSelect).mockResolvedValue('test-account')\n\n    // When\n    await Login.run(['--alias', 'my-work-account'])\n\n    // Then\n    expect(promptSessionSelect).toHaveBeenCalledWith('my-work-account')\n    expect(outputMock.output()).toMatch('Current account: test-account.')\n  })\n\n  test('displays flags correctly in help', () => {\n    // When\n    const flags = Login.flags\n\n    // Then\n    expect(flags.alias).toBeDefined()\n    expect(flags.alias.description).toBe('Alias of the session you want to login to.')\n    expect(flags.alias.env).toBe('SHOPIFY_FLAG_AUTH_ALIAS')\n  })\n})\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAKA,GAAG,KAAK,sCAAsC;AAE9C,SAAS,iBAAiB,MAAM;AAC9B,OAAK,iCAAiC,YAAY;AAEhD,QAAM,aAAa,qBAAqB;AACxC,OAAG,OAAO,mBAAmB,EAAE,kBAAkB,cAAc,GAG/D,MAAM,MAAM,IAAI,CAAC,CAAC,GAGlB,aAAO,mBAAmB,EAAE,qBAAqB,MAAS,GAC1D,aAAO,WAAW,OAAO,CAAC,EAAE,QAAQ,gCAAgC;AAAA,EACtE,CAAC,GAED,KAAK,8BAA8B,YAAY;AAE7C,QAAM,aAAa,qBAAqB;AACxC,OAAG,OAAO,mBAAmB,EAAE,kBAAkB,cAAc,GAG/D,MAAM,MAAM,IAAI,CAAC,WAAW,iBAAiB,CAAC,GAG9C,aAAO,mBAAmB,EAAE,qBAAqB,iBAAiB,GAClE,aAAO,WAAW,OAAO,CAAC,EAAE,QAAQ,gCAAgC;AAAA,EACtE,CAAC,GAED,KAAK,oCAAoC,MAAM;AAE7C,QAAM,QAAQ,MAAM;AAGpB,iBAAO,MAAM,KAAK,EAAE,YAAY,GAChC,aAAO,MAAM,MAAM,WAAW,EAAE,KAAK,4CAA4C,GACjF,aAAO,MAAM,MAAM,GAAG,EAAE,KAAK,yBAAyB;AAAA,EACxD,CAAC;AACH,CAAC;",
  "names": []
}
